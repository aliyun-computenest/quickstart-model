<div style="background: linear-gradient(135deg, #2563eb, #1e40af); padding: 24px; border-radius: 8px; color: white; text-align: center; margin-bottom: 24px;">
  <h1 style="font-size: 2.5em; margin: 0; font-weight: 600;">🎬 Wan2.1-T2V-14B 文本生视频模型</h1>
  <p style="font-size: 1.2em; margin: 16px 0 0 0; opacity: 0.9;">从文字到视频，让想象力成为现实！强大的AI视频生成引擎</p>
  <div style="margin-top: 20px;">
    <span style="background: rgba(255,255,255,0.2); color: white; padding: 4px 12px; border-radius: 12px; font-size: 14px; margin: 0 8px;">🧠 14B参数</span>
    <span style="background: rgba(255,255,255,0.2); color: white; padding: 4px 12px; border-radius: 12px; font-size: 14px; margin: 0 8px;">🎯 高质量</span>
    <span style="background: rgba(255,255,255,0.2); color: white; padding: 4px 12px; border-radius: 12px; font-size: 14px; margin: 0 8px;">⚡ 专业级</span>
  </div>
</div>

## 🌟 模型简介

<div style="background: #f8fafc; border: 1px solid #e2e8f0; border-radius: 8px; padding: 20px; margin: 16px 0;">

**Wan2.1-T2V-14B** 是一个革命性的文本到视频生成模型，能够在给定文本提示的情况下生成令人惊叹的高质量视频内容。无论是创意表达还是商业应用，都能为您带来无限可能！

</div>

## ✨ 核心特性

<div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 16px; margin: 16px 0;">

<div style="background: #eff6ff; border-left: 4px solid #2563eb; padding: 16px; border-radius: 4px;">
<h4 style="color: #1e40af; margin: 0 0 8px 0;">🧠 强大参数规模</h4>
<p style="margin: 0; color: #1e40af;">14B参数量，提供卓越的理解和生成能力</p>
</div>

<div style="background: #fef2f2; border-left: 4px solid #dc2626; padding: 16px; border-radius: 4px;">
<h4 style="color: #dc2626; margin: 0 0 8px 0;">🏗️ 先进架构</h4>
<p style="margin: 0; color: #991b1b;">扩散变换器 + VAE，技术领先</p>
</div>

<div style="background: #f0fdf4; border-left: 4px solid #059669; padding: 16px; border-radius: 4px;">
<h4 style="color: #059669; margin: 0 0 8px 0;">⚡ 内存优化</h4>
<p style="margin: 0; color: #065f46;">FP8量化技术，高效GPU利用</p>
</div>

<div style="background: #f5f3ff; border-left: 4px solid #7c3aed; padding: 16px; border-radius: 4px;">
<h4 style="color: #7c3aed; margin: 0 0 8px 0;">🌍 多语言支持</h4>
<p style="margin: 0; color: #5b21b6;">中英文双语，无障碍创作</p>
</div>

<div style="background: #fff7ed; border-left: 4px solid #ea580c; padding: 16px; border-radius: 4px;">
<h4 style="color: #ea580c; margin: 0 0 8px 0;">🎭 复杂场景理解</h4>
<p style="margin: 0; color: #9a3412;">深度理解文本，生成逼真场景</p>
</div>

<div style="background: #ecfdf5; border-left: 4px solid #10b981; padding: 16px; border-radius: 4px;">
<h4 style="color: #10b981; margin: 0 0 8px 0;">🎥 专业品质</h4>
<p style="margin: 0; color: #047857;">电影级视频质量，商业应用就绪</p>
</div>

</div>

## 🔧 技术规格

<div style="overflow-x: auto; margin: 16px 0;">
<table style="width: 100%; border-collapse: collapse; background: white; border-radius: 6px; overflow: hidden; box-shadow: 0 1px 3px rgba(0,0,0,0.1);">
  <thead style="background: #f8fafc;">
    <tr>
      <th style="padding: 12px; text-align: left; border-bottom: 1px solid #e2e8f0; color: #1e40af; font-weight: 600;">规格项目</th>
      <th style="padding: 12px; text-align: left; border-bottom: 1px solid #e2e8f0; color: #1e40af; font-weight: 600;">详细信息</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="padding: 12px; border-bottom: 1px solid #f1f5f9; font-weight: 500;">模型类型</td>
      <td style="padding: 12px; border-bottom: 1px solid #f1f5f9;">文本到视频生成</td>
    </tr>
    <tr>
      <td style="padding: 12px; border-bottom: 1px solid #f1f5f9; font-weight: 500;">参数规模</td>
      <td style="padding: 12px; border-bottom: 1px solid #f1f5f9;">14B</td>
    </tr>
    <tr>
      <td style="padding: 12px; border-bottom: 1px solid #f1f5f9; font-weight: 500;">量化方式</td>
      <td style="padding: 12px; border-bottom: 1px solid #f1f5f9;">FP8量化版本</td>
    </tr>
    <tr>
      <td style="padding: 12px; border-bottom: 1px solid #f1f5f9; font-weight: 500;">最大帧数</td>
      <td style="padding: 12px; border-bottom: 1px solid #f1f5f9;">81帧</td>
    </tr>
    <tr>
      <td style="padding: 12px; border-bottom: 1px solid #f1f5f9; font-weight: 500;">推荐帧率</td>
      <td style="padding: 12px; border-bottom: 1px solid #f1f5f9;">16fps</td>
    </tr>
    <tr>
      <td style="padding: 12px; border-bottom: 1px solid #f1f5f9; font-weight: 500;">推荐步数</td>
      <td style="padding: 12px; border-bottom: 1px solid #f1f5f9;">15-25步</td>
    </tr>
    <tr>
      <td style="padding: 12px; border-bottom: 1px solid #f1f5f9; font-weight: 500;">显存需求</td>
      <td style="padding: 12px; border-bottom: 1px solid #f1f5f9;">12GB+</td>
    </tr>
    <tr>
      <td style="padding: 12px; font-weight: 500;">输出格式</td>
      <td style="padding: 12px;">MP4 (H.264)</td>
    </tr>
  </tbody>
</table>
</div>

---

# 📖 使用指南

## 🌐 方式一：ComfyUI 可视化界面

<div style="background: #f8fafc; border: 1px solid #e2e8f0; border-radius: 8px; padding: 20px; margin: 16px 0;">

### 🚀 快速开始

**步骤 1：访问界面**  
单击服务实例处的访问链接

<div style="text-align: center; margin: 16px 0;">
  <img src="img3.png" alt="访问界面" style="max-width: 100%; border-radius: 6px; border: 1px solid #e2e8f0;">
</div>

**步骤 2：选择工作流**  
按图中指引选择工作流侧栏，选择 `wanx-21.json` 或 `wans.json` 并打开

<div style="text-align: center; margin: 16px 0;">
  <img src="img/app2.png" alt="选择工作流" style="max-width: 100%; border-radius: 6px; border: 1px solid #e2e8f0;">
</div>

**步骤 3：选择功能**  
在下图处选择文生视频功能

<div style="text-align: center; margin: 16px 0;">
  <img src="img.png" alt="选择功能" style="max-width: 100%; border-radius: 6px; border: 1px solid #e2e8f0;">
</div>

**步骤 4：编写提示词**  
在 TextEncode 处填写描述词

<div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px; margin: 16px 0;">

<div style="background: #f0fdf4; border-left: 4px solid #059669; padding: 16px; border-radius: 4px;">
<h4 style="color: #059669; margin: 0 0 8px 0;">✅ 上方输入框</h4>
<p style="margin: 0; color: #065f46;">你想要生成的内容</p>
</div>

<div style="background: #fff7ed; border-left: 4px solid #ea580c; padding: 16px; border-radius: 4px;">
<h4 style="color: #ea580c; margin: 0 0 8px 0;">❌ 下方输入框</h4>
<p style="margin: 0; color: #9a3412;">你不想要生成的内容</p>
</div>

</div>

<div style="text-align: center; margin: 16px 0;">
  <img src="img/prompt.png" alt="编写提示词" style="max-width: 100%; border-radius: 6px; border: 1px solid #e2e8f0;">
</div>

**步骤 5：设置参数**  
在 ImageClip Encode 处可设置图片的分辨率和帧数

<div style="text-align: center; margin: 16px 0;">
  <img src="img/definition.png" alt="设置参数" style="max-width: 100%; border-radius: 6px; border: 1px solid #e2e8f0;">
</div>

### 📚 更多参数说明
- [ComfyUI官方文档](https://comfyui-wiki.com/zh/interface/node-options)
- [WanVideo插件详细文档](https://github.com/kijai/ComfyUI-WanVideoWrapper/blob/main/readme.md)

</div>

## 🔌 方式二：API 程序化调用

### 🔑 获取认证信息

<div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px; margin: 16px 0;">

<div style="background: #fff7ed; border-left: 4px solid #ea580c; padding: 16px; border-radius: 4px;">
<h4 style="color: #ea580c; margin: 0 0 8px 0;">🎫 获取 Token</h4>
<p style="margin: 0 0 12px 0;">点击右上方按钮，打开底部面板，获取token</p>
<div style="text-align: center; padding: 12px; background: #f8fafc; border-radius: 6px;">
  <img src="img_1.png" alt="获取Token" style="max-width: 100%; border-radius: 6px; border: 1px solid #e2e8f0;">
</div>
</div>

<div style="background: #eff6ff; border-left: 4px solid #2563eb; padding: 16px; border-radius: 4px;">
<h4 style="color: #2563eb; margin: 0 0 8px 0;">🌐 获取服务器地址</h4>
<p style="margin: 0 0 12px 0;">COMFYUI_SERVER 的获取可参考</p>
<div style="text-align: center; padding: 12px; background: #f8fafc; border-radius: 6px;">
  <img src="img_2.png" alt="获取服务器地址" style="max-width: 100%; border-radius: 6px; border: 1px solid #e2e8f0;">
</div>
</div>

</div>

### 💻 Python 代码实现

<details style="border: 2px solid #2563eb; border-radius: 12px; padding: 20px; margin: 20px 0; background: linear-gradient(145deg, #f8fafc, #eff6ff); box-shadow: 0 8px 16px rgba(37, 99, 235, 0.15);">
<summary style="font-weight: bold; font-size: 18px; color: white; cursor: pointer; padding: 16px; background: linear-gradient(135deg, #2563eb, #1e40af); border-radius: 8px; margin: -20px -20px 20px -20px; text-shadow: 1px 1px 2px rgba(0,0,0,0.2); transition: all 0.3s ease; display: flex; align-items: center; box-shadow: 0 4px 8px rgba(37, 99, 235, 0.3);">
🐍 点击展开完整 Python API 代码
</summary>

```python
import requests, json, uuid, time, random

# 🔧 配置参数
COMFYUI_SERVER, COMFYUI_TOKEN = "输入您的服务器地址", "输入您的token"
T5_MODEL = "wan2.1/umt5-xxl-enc-bf16.safetensors"
VIDEO_MODEL = "Wan2_1-T2V-14B_fp8_e4m3fn.safetensors"
VAE_MODEL = "wan2.1/Wan2_1_VAE_bf16.safetensors"

class ComfyUIClient:
    """🎬 ComfyUI 视频生成客户端"""
    
    def __init__(self, server=COMFYUI_SERVER, token=COMFYUI_TOKEN):
        self.base_url = f"http://{server}"
        self.token = token
        self.client_id = str(uuid.uuid4())
        self.headers = {
            "Content-Type": "application/json",
            **({"Authorization": f"Bearer {token}"} if token else {})
        }

    def generate_t2v(self, prompt, neg_prompt="", steps=15, cfg=6, width=832, height=480, frames=81):
        """
        🎥 生成视频
        
        Args:
            prompt (str): 正向提示词
            neg_prompt (str): 负向提示词
            steps (int): 推理步数
            cfg (float): CFG引导强度
            width (int): 视频宽度
            height (int): 视频高度
            frames (int): 视频帧数
        
        Returns:
            str: 任务ID
        """
        print(f"🎬 开始文本生视频任务...")
        print(f"📝 提示词: {prompt}")
        
        workflow = {
            "1": {
                "inputs": {
                    "model_name": T5_MODEL,
                    "precision": "bf16",
                    "load_device": "offload_device",
                    "quantization": "disabled"
                },
                "class_type": "LoadWanVideoT5TextEncoder"
            },
            "2": {
                "inputs": {
                    "positive_prompt": prompt,
                    "negative_prompt": neg_prompt,
                    "force_offload": True,
                    "t5": ["1", 0]
                },
                "class_type": "WanVideoTextEncode"
            },
            "3": {
                "inputs": {
                    "model": VIDEO_MODEL,
                    "base_precision": "bf16",
                    "quantization": "fp8_e4m3fn",
                    "load_device": "offload_device",
                    "attention_mode": "sageattn"
                },
                "class_type": "WanVideoModelLoader"
            },
            "4": {
                "inputs": {
                    "width": width,
                    "height": height,
                    "num_frames": frames
                },
                "class_type": "WanVideoEmptyEmbeds"
            },
            "5": {
                "inputs": {
                    "model_name": VAE_MODEL,
                    "precision": "bf16"
                },
                "class_type": "WanVideoVAELoader"
            },
            "6": {
                "inputs": {
                    "steps": steps,
                    "cfg": cfg,
                    "shift": 5,
                    "seed": random.randint(1, 1000000),
                    "force_offload": True,
                    "scheduler": "dpm++",
                    "riflex_freq_index": 0,
                    "denoise_strength": 1,
                    "batched_cfg": False,
                    "rope_function": "comfy",
                    "model": ["3", 0],
                    "text_embeds": ["2", 0],
                    "image_embeds": ["4", 0]
                },
                "class_type": "WanVideoSampler"
            },
            "7": {
                "inputs": {
                    "enable_vae_tiling": True,
                    "tile_x": 272,
                    "tile_y": 272,
                    "tile_stride_x": 144,
                    "tile_stride_y": 128,
                    "vae": ["5", 0],
                    "samples": ["6", 0]
                },
                "class_type": "WanVideoDecode"
            },
            "8": {
                "inputs": {
                    "frame_rate": 16,
                    "loop_count": 0,
                    "filename_prefix": "T2V_14B_generated",
                    "format": "video/h264-mp4",
                    "pix_fmt": "yuv420p",
                    "crf": 19,
                    "save_metadata": True,
                    "trim_to_audio": False,
                    "pingpong": False,
                    "save_output": True,
                    "images": ["7", 0]
                },
                "class_type": "VHS_VideoCombine"
            }
        }
        
        print("🚀 提交视频生成任务...")
        response = requests.post(
            f"{self.base_url}/prompt",
            headers=self.headers,
            json={"prompt": workflow, "client_id": self.client_id}
        )
        
        print(f"📡 API Response: {response.text}")
        result = response.json()
        
        if "error" in result:
            raise Exception(f"❌ 工作流错误: {result['error']}")
        
        if "prompt_id" not in result:
            raise Exception(f"❌ 响应中没有 prompt_id: {result}")
        
        return result["prompt_id"]

    def get_status(self, task_id):
        """📊 获取任务状态"""
        try:
            queue_data = requests.get(f"{self.base_url}/queue", headers=self.headers).json()
            
            # 检查是否在运行队列中
            if any(item[1] == task_id for item in queue_data.get("queue_running", [])):
                return "processing"
            
            # 检查是否在等待队列中
            if any(item[1] == task_id for item in queue_data.get("queue_pending", [])):
                return "pending"
            
            # 检查历史记录
            history_response = requests.get(f"{self.base_url}/history/{task_id}", headers=self.headers)
            if history_response.status_code == 200 and task_id in history_response.json():
                return "completed"
            
            return "processing"
        except:
            return "processing"

    def download_video(self, task_id, output_path="t2v_14b_generated.mp4"):
        """📥 下载生成的视频"""
        try:
            response = requests.get(f"{self.base_url}/history/{task_id}", headers=self.headers)
            history = response.json()
            
            if task_id in history:
                for output in history[task_id]['outputs'].values():
                    if 'gifs' in output:
                        filename = output['gifs'][0]['filename']
                        video_response = requests.get(
                            f"{self.base_url}/view?filename={filename}",
                            headers=self.headers
                        )
                        
                        with open(output_path, "wb") as f:
                            f.write(video_response.content)
                        
                        return output_path
            
            return None
        except Exception as e:
            print(f"❌ 下载错误: {e}")
            return None

def main():
    """🎬 主函数 - 视频生成示例"""
    client = ComfyUIClient()
    
    try:
        print("🎭 开始文本生视频任务...")
        
        # 🎨 示例提示词
        prompt = "A beautiful anime girl with long black hair dancing gracefully in a cherry blossom garden, soft lighting, cinematic quality, high detail, smooth animation"
        neg_prompt = "low quality, blurry, distorted, bad anatomy, static, choppy animation, artifacts"
        
        print(f"📝 提示词: {prompt}")
        print(f"🚫 负向提示词: {neg_prompt}")
        
        # 🚀 提交生成任务
        task_id = client.generate_t2v(
            prompt=prompt,
            neg_prompt=neg_prompt,
            steps=20,
            cfg=7,
            width=832,
            height=480,
            frames=81
        )
        
        print(f"🆔 任务ID: {task_id}")
        
        # 📊 监控任务状态
        while True:
            status = client.get_status(task_id)
            print(f"📈 当前状态: {status}")
            
            if status == "completed":
                print("✅ 视频生成完成!")
                break
            elif status == "failed":
                print("❌ 生成失败!")
                exit(1)
            
            time.sleep(10)
        
        # 📥 下载视频
        output_file = client.download_video(task_id, "my_t2v_14b_video.mp4")
        
        if output_file:
            print("🎉 视频下载成功!")
            print(f"📁 保存位置: {output_file}")
        else:
            print("❌ 视频下载失败!")
            
    except Exception as e:
        print(f"💥 发生错误: {e}")

if __name__ == "__main__":
    main()
```

</details>

---

# 🎯 创作技巧与最佳实践

## ✍️ 提示词编写指南

<div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px; margin: 16px 0;">

<div style="background: #f0fdf4; border-left: 4px solid #059669; padding: 16px; border-radius: 4px;">
<h4 style="color: #059669; margin: 0 0 8px 0;">✅ 正向提示词技巧</h4>
<ul style="margin: 0; padding-left: 20px; color: #065f46;">
  <li><strong>具体描述</strong>：详细描述场景、人物、动作</li>
  <li><strong>风格指定</strong>：添加艺术风格、光照效果</li>
  <li><strong>质量词汇</strong>：使用 "high quality", "cinematic" 等</li>
  <li><strong>动作描述</strong>：明确指定想要的动态效果</li>
</ul>
</div>

<div style="background: #fff7ed; border-left: 4px solid #ea580c; padding: 16px; border-radius: 4px;">
<h4 style="color: #ea580c; margin: 0 0 8px 0;">❌ 负向提示词建议</h4>
<ul style="margin: 0; padding-left: 20px; color: #9a3412;">
  <li><strong>质量控制</strong>："low quality", "blurry", "distorted"</li>
  <li><strong>避免静态</strong>："static", "motionless", "frozen"</li>
  <li><strong>解剖正确</strong>："bad anatomy", "deformed"</li>
  <li><strong>技术问题</strong>："artifacts", "noise", "compression"</li>
</ul>
</div>

</div>

## 🎨 创意示例

<div style="background: #f8fafc; border: 1px solid #e2e8f0; border-radius: 8px; padding: 20px; margin: 16px 0;">

**🌸 动漫风格**
```
A beautiful anime girl with flowing pink hair dancing in a field of cherry blossoms, 
soft wind, petals falling, golden hour lighting, studio ghibli style, high quality
```

**🏙️ 科幻场景**
```
Futuristic cityscape at night, neon lights reflecting on wet streets, 
flying cars in the distance, cyberpunk aesthetic, cinematic composition
```

**🌊 自然风光**
```
Majestic waterfall cascading down moss-covered rocks, rainbow mist, 
lush green forest, birds flying, peaceful atmosphere, 4K quality
```

**🎭 人物表演**
```
Professional dancer performing contemporary dance on stage, 
dramatic lighting, flowing fabric, graceful movements, artistic composition
```

</div>

## 🔧 参数优化建议

<div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 16px; margin: 16px 0;">

<div style="background: #eff6ff; border-left: 4px solid #2563eb; padding: 16px; border-radius: 4px;">
<h4 style="color: #1e40af; margin: 0 0 8px 0;">⚙️ 基础设置</h4>
<ul style="margin: 0; padding-left: 20px; color: #1e40af;">
  <li><strong>步数</strong>: 20-25步获得最佳质量</li>
  <li><strong>CFG</strong>: 6-8范围内调整</li>
  <li><strong>分辨率</strong>: 832×480为推荐设置</li>
</ul>
</div>

<div style="background: #f0fdf4; border-left: 4px solid #059669; padding: 16px; border-radius: 4px;">
<h4 style="color: #059669; margin: 0 0 8px 0;">🎯 质量优化</h4>
<ul style="margin: 0; padding-left: 20px; color: #065f46;">
  <li><strong>帧数</strong>: 根据内容复杂度调整</li>
  <li><strong>种子</strong>: 固定种子获得一致结果</li>
  <li><strong>调度器</strong>: DPM++效果较好</li>
</ul>
</div>

</div>

---

# 📚 相关资源与文档

<div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 16px; margin: 16px 0;">

<div style="background: #f8fafc; border: 1px solid #e2e8f0; border-radius: 8px; padding: 20px;">
<h4 style="margin-top: 0; color: #1e40af;">📖 ComfyUI 官方文档</h4>
<a href="https://comfyui-wiki.com/zh/interface/node-options" style="color: #2563eb; text-decoration: none; font-weight: 500;">查看详细说明 →</a>
<p style="margin-top: 8px; color: #64748b; font-size: 14px;">ComfyUI 界面操作和节点配置指南</p>
</div>

<div style="background: #f8fafc; border: 1px solid #e2e8f0; border-radius: 8px; padding: 20px;">
<h4 style="margin-top: 0; color: #1e40af;">🎥 WanVideo 插件文档</h4>
<a href="https://github.com/kijai/ComfyUI-WanVideoWrapper/blob/main/readme.md" style="color: #2563eb; text-decoration: none; font-weight: 500;">GitHub 仓库 →</a>
<p style="margin-top: 8px; color: #64748b; font-size: 14px;">WanVideo 插件的安装和使用说明</p>
</div>

<div style="background: #f8fafc; border: 1px solid #e2e8f0; border-radius: 8px; padding: 20px;">
<h4 style="margin-top: 0; color: #1e40af;">🔧 技术文档</h4>
<a href="https://docs.comfy.org/video/advanced_techniques" style="color: #2563eb; text-decoration: none; font-weight: 500;">高级技巧指南 →</a>
<p style="margin-top: 8px; color: #64748b; font-size: 14px;">视频生成的高级技术和优化方法</p>
</div>

<div style="background: #f8fafc; border: 1px solid #e2e8f0; border-radius: 8px; padding: 20px;">
<h4 style="margin-top: 0; color: #1e40af;">💡 最佳实践</h4>
<a href="https://github.com/WanVideo" style="color: #2563eb; text-decoration: none; font-weight: 500;">创作指南 →</a>
<p style="margin-top: 8px; color: #64748b; font-size: 14px;">专业视频创作的技巧和经验分享</p>
</div>

</div>

---

<div style="text-align: center; padding: 16px; background: #f8fafc; border-radius: 6px; margin-top: 24px;">
  <p style="margin: 0; color: #64748b; font-size: 14px;">
    🎬 <strong>开始您的视频创作之旅！</strong> | 用 Wan2.1-T2V-14B 将您的创意变为现实
  </p>
</div>