<div style="background: linear-gradient(135deg, #2563eb, #1e40af); padding: 24px; border-radius: 8px; color: white; text-align: center; margin-bottom: 24px;">
  <h1 style="margin: 0; font-size: 28px; font-weight: 600;">ğŸ‘ï¸ Qwen2.5-VL è§†è§‰è¯­è¨€æ¨¡å‹</h1>
  <p style="margin: 8px 0 0 0; opacity: 0.9; font-size: 16px;">é˜¿é‡Œäº‘é€šä¹‰åƒé—®æ–°ä¸€ä»£å¤šæ¨¡æ€AIæ¨¡å‹ä½¿ç”¨æŒ‡å—</p>
</div>

## ğŸ“– æ¨¡å‹ç®€ä»‹

<div style="background: #f8fafc; border: 1px solid #e2e8f0; border-radius: 8px; padding: 20px; margin: 16px 0;">

Qwen2.5-VL æ˜¯é˜¿é‡Œäº‘ Qwen å›¢é˜Ÿåœ¨ Qwen2-VL åŸºç¡€ä¸Šç»“åˆä¼—å¤šå¼€å‘è€…çš„å®è´µåé¦ˆæ„å»ºçš„æ›´æœ‰ç”¨çš„è§†è§‰è¯­è¨€æ¨¡å‹ã€‚

### ğŸš€ æ ¸å¿ƒèƒ½åŠ›

<div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 16px; margin: 20px 0;">

<div style="background: white; border: 1px solid #e2e8f0; border-radius: 6px; padding: 16px;">
  <div style="color: #2563eb; font-weight: 600; margin-bottom: 8px;">ğŸ‘ï¸ è§†è§‰ç†è§£äº‹ç‰©</div>
  <div style="color: #64748b; font-size: 14px;">ç†Ÿç»ƒè¯†åˆ«èŠ±ã€é¸Ÿã€é±¼ã€æ˜†è™«ç­‰å¸¸è§ç‰©ä½“ï¼Œåˆ†æå›¾åƒä¸­çš„æ–‡æœ¬ã€å›¾è¡¨ã€å›¾æ ‡ã€å›¾å½¢å’Œå¸ƒå±€</div>
</div>

<div style="background: white; border: 1px solid #e2e8f0; border-radius: 6px; padding: 16px;">
  <div style="color: #2563eb; font-weight: 600; margin-bottom: 8px;">ğŸ¤– æ™ºèƒ½ä»£ç†æ€§</div>
  <div style="color: #64748b; font-size: 14px;">ç›´æ¥æ‰®æ¼”è§†è§‰ä»£ç†è§’è‰²ï¼Œå…·æœ‰æ¨ç†å’ŒåŠ¨æ€æŒ‡æŒ¥å·¥å…·åŠŸèƒ½ï¼Œé€‚ç”¨äºç”µè„‘å’Œæ‰‹æœº</div>
</div>

<div style="background: white; border: 1px solid #e2e8f0; border-radius: 6px; padding: 16px;">
  <div style="color: #2563eb; font-weight: 600; margin-bottom: 8px;">ğŸ¬ é•¿è§†é¢‘ç†è§£</div>
  <div style="color: #64748b; font-size: 14px;">ç†è§£è¶…è¿‡ 1 å°æ—¶çš„è§†é¢‘ï¼Œé€šè¿‡ç²¾ç¡®å®šä½ç›¸å…³è§†é¢‘ç‰‡æ®µæ¥æ•æ‰äº‹ä»¶</div>
</div>

<div style="background: white; border: 1px solid #e2e8f0; border-radius: 6px; padding: 16px;">
  <div style="color: #2563eb; font-weight: 600; margin-bottom: 8px;">ğŸ¯ è§†è§‰å®šä½</div>
  <div style="color: #64748b; font-size: 14px;">é€šè¿‡ç”Ÿæˆè¾¹ç•Œæ¡†æˆ–ç‚¹å‡†ç¡®å®šä½å›¾åƒä¸­çš„å¯¹è±¡ï¼Œæä¾›ç¨³å®šçš„ JSON è¾“å‡º</div>
</div>

<div style="background: white; border: 1px solid #e2e8f0; border-radius: 6px; padding: 16px;">
  <div style="color: #2563eb; font-weight: 600; margin-bottom: 8px;">ğŸ“Š ç»“æ„åŒ–è¾“å‡º</div>
  <div style="color: #64748b; font-size: 14px;">æ”¯æŒå‘ç¥¨ã€è¡¨æ ¼ç­‰æ‰«æä»¶æ•°æ®çš„ç»“æ„åŒ–è¾“å‡ºï¼Œé€‚ç”¨äºé‡‘èã€å•†ä¸šç­‰é¢†åŸŸ</div>
</div>

</div>

</div>

## ğŸ› ï¸ ä½¿ç”¨è¯´æ˜

<div style="background: #f8fafc; border: 1px solid #e2e8f0; border-radius: 8px; padding: 20px; margin: 16px 0;">

### ğŸ“ è·å–è®¿é—®ä¿¡æ¯

éƒ¨ç½²å®Œæˆåï¼Œåœ¨è®¡ç®—å·¢æœåŠ¡å®ä¾‹æ¦‚è§ˆé¡µé¢å¯è·å–ä»¥ä¸‹ä¿¡æ¯ï¼š

<div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 12px; margin: 16px 0;">
  <span style="background: #eff6ff; color: #1e40af; padding: 6px 12px; border-radius: 12px; font-size: 14px; text-align: center;">ğŸ”— API è°ƒç”¨ç¤ºä¾‹</span>
  <span style="background: #eff6ff; color: #1e40af; padding: 6px 12px; border-radius: 12px; font-size: 14px; text-align: center;">ğŸ  å†…ç½‘è®¿é—®åœ°å€</span>
  <span style="background: #eff6ff; color: #1e40af; padding: 6px 12px; border-radius: 12px; font-size: 14px; text-align: center;">ğŸŒ å…¬ç½‘è®¿é—®åœ°å€</span>
  <span style="background: #eff6ff; color: #1e40af; padding: 6px 12px; border-radius: 12px; font-size: 14px; text-align: center;">ğŸ”‘ API Key</span>
</div>

<div style="text-align: center; margin: 20px 0;">
  <img src="../image-cn/img-llm-use-desc.png" alt="æœåŠ¡å®ä¾‹æ¦‚è§ˆé¡µé¢" style="max-width: 100%; border-radius: 6px; border: 1px solid #e2e8f0;">
  <p style="margin-top: 8px; color: #64748b; font-size: 14px;">æœåŠ¡å®ä¾‹æ¦‚è§ˆé¡µé¢ç¤ºä¾‹</p>
</div>

</div>

## ğŸ”Œ API è°ƒç”¨æ–¹å¼

### ğŸ’» Curl å‘½ä»¤è°ƒç”¨

<div style="background: #f8fafc; border: 1px solid #e2e8f0; border-radius: 8px; padding: 20px; margin: 16px 0;">

<div style="text-align: center; margin: 20px 0;">
  <img src="../image-cn/img-api-call.png" alt="API è°ƒç”¨ç¤ºä¾‹" style="max-width: 100%; border-radius: 6px; border: 1px solid #e2e8f0;">
  <p style="margin-top: 8px; color: #64748b; font-size: 14px;">API è°ƒç”¨ç•Œé¢ç¤ºä¾‹</p>
</div>

<div style="background: #eff6ff; border-left: 4px solid #2563eb; padding: 16px; margin: 16px 0; border-radius: 4px;">
  <strong>ğŸ“ å‚æ•°è¯´æ˜</strong><br>
  â€¢ <code>${ServerIP}</code>ï¼šå†…ç½‘æˆ–å…¬ç½‘åœ°å€ä¸­çš„ IP<br>
  â€¢ <code>${ApiKey}</code>ï¼šé¡µé¢æä¾›çš„ API Key<br>
  â€¢ <code>${ModelName}</code>ï¼šæ¨¡å‹åç§°<br>
  â€¢ <code>image_url</code>ï¼šæ”¯æŒ HTTP URL æˆ– base64 ç¼–ç æ ¼å¼
</div>

<div style="background: #fff7ed; border-left: 4px solid #ea580c; padding: 16px; margin: 16px 0; border-radius: 4px;">
  <strong>ğŸ–¼ï¸ å›¾ç‰‡æ ¼å¼æ”¯æŒ</strong><br>
  â€¢ HTTP URLï¼šå¦‚ <code>https://modelscope.oss-cn-beijing.aliyuncs.com/resource/qwen.png</code><br>
  â€¢ Base64 ç¼–ç ï¼š<code>data:image/jpeg;base64,&lt;å›¾ç‰‡çš„ base64 ç¼–ç æ ¼å¼&gt;</code>
</div>

```bash
curl -X Post http://${ServerIP}:8000/v1/chat/completions \
    -H "Content-Type: application/json" \
    -H "Authorization: ${ApiKey}" \
    -d '{
        "model": "${ModelName}",
        "messages": [
        {
            "role": "system",
            "content": "You are a helpful assistant."
        },
        {
            "role": "user",
            "content": [
                {
                    "type": "image_url",
                    "image_url": {
                        "url": "data:image/jpeg;base64,<å›¾ç‰‡çš„ base64 ç¼–ç æ ¼å¼>"
                    }
                },
                {
                    "type": "text",
                    "text": "How many sheep are there in the picture?"
                }
            ]
        }
        ]
    }'
```

</div>

### ğŸ Python SDK è°ƒç”¨

<div style="background: #f8fafc; border: 1px solid #e2e8f0; border-radius: 8px; padding: 20px; margin: 16px 0;">

<div style="background: #eff6ff; border-left: 4px solid #2563eb; padding: 16px; margin: 16px 0; border-radius: 4px;">
  <strong>âš™ï¸ é…ç½®è¯´æ˜</strong><br>
  â€¢ <code>${ApiKey}</code>ï¼šå¡«å†™é¡µé¢ä¸Šçš„ API Key<br>
  â€¢ <code>${ServerUrl}</code>ï¼šå¡«å†™å…¬ç½‘æˆ–å†…ç½‘åœ°å€ï¼Œéœ€è¦å¸¦ä¸Š <code>/v1</code> åç¼€
</div>

#### ğŸ“¸ å›¾ç‰‡å¤„ç†ç¤ºä¾‹

```python
import base64
import requests
from openai import OpenAI

##### API é…ç½® #####
openai_api_key = "${ApiKey}"
openai_api_base = "${ServerUrl}"

client = OpenAI(
    api_key=openai_api_key,
    base_url=openai_api_base,
)

models = client.models.list()
model = models.data[0].id


def encode_base64_content_from_url(content_url: str) -> str:
    """Encode a content retrieved from a remote url to base64 format."""
    with requests.get(content_url) as response:
        response.raise_for_status()
        result = base64.b64encode(response.content).decode("utf-8")
    return result


def infer_image():
    image_url = "https://qianwen-res.oss-cn-beijing.aliyuncs.com/QVQ/demo.png"
    stream = True
    image_base64 = encode_base64_content_from_url(image_url)

    chat_completion_from_base64 = client.chat.completions.create(
        messages=[
            {
                "role": "user",
                "content": [
                    {
                        "type": "text",
                        "text": "ä½¿ç”¨ä¸­æ–‡å›ç­”ï¼Œå›¾ä¸­æ–¹æ¡†å¤„åº”è¯¥æ˜¯æ•°å­—å¤šå°‘?",
                    },
                    {
                        "type": "image_url",
                        "image_url": {"url": f"data:image/jpeg;base64,{image_base64}"},
                    },
                ],
            }
        ],
        model=model,
        max_completion_tokens=1024,
        stream=stream,
    )

    if stream:
        for chunk in chat_completion_from_base64:
            print(chunk.choices[0].delta.content, end="")
    else:
        result = chat_completion_from_base64.choices[0].message.content
        print(result)
```

#### ğŸ¬ è§†é¢‘å¤„ç†ç¤ºä¾‹

```python
def infer_video():
    video_url = "https://pai-quickstart-predeploy-hangzhou.oss-cn-hangzhou.aliyuncs.com/modelscope/algorithms/ms-swift/video_demo.mp4"
    stream = True
    video_base64 = encode_base64_content_from_url(video_url)

    chat_completion_from_base64 = client.chat.completions.create(
        messages=[
            {
                "role": "user",
                "content": [
                    {"type": "text", "text": "è¯·æè¿°ä¸‹è§†é¢‘å†…å®¹"},
                    {
                        "type": "video_url",
                        "video_url": {"url": f"data:video/mp4;base64,{video_base64}"},
                    },
                ],
            }
        ],
        model=model,
        max_completion_tokens=512,
        stream=stream,
    )

    if stream:
        for chunk in chat_completion_from_base64:
            print(chunk.choices[0].delta.content, end="")
    else:
        result = chat_completion_from_base64.choices[0].message.content
        print(result)


if __name__ == "__main__":
    infer_image()
    infer_video()
```

</div>

## ğŸ¯ åº”ç”¨åœºæ™¯

<div style="background: #f8fafc; border: 1px solid #e2e8f0; border-radius: 8px; padding: 20px; margin: 16px 0;">

<div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 16px; margin: 16px 0;">

<div style="background: white; border: 1px solid #e2e8f0; border-radius: 6px; padding: 16px;">
  <div style="color: #2563eb; font-weight: 600; margin-bottom: 8px;">ğŸ’¼ å•†ä¸šæ–‡æ¡£</div>
  <div style="color: #64748b; font-size: 14px;">å‘ç¥¨è¯†åˆ«ã€è¡¨æ ¼æå–<br>è´¢åŠ¡æ•°æ®ç»“æ„åŒ–å¤„ç†</div>
</div>

<div style="background: white; border: 1px solid #e2e8f0; border-radius: 6px; padding: 16px;">
  <div style="color: #2563eb; font-weight: 600; margin-bottom: 8px;">ğŸ¥ è§†é¢‘åˆ†æ</div>
  <div style="color: #64748b; font-size: 14px;">é•¿è§†é¢‘å†…å®¹ç†è§£<br>äº‹ä»¶æ£€æµ‹ä¸å®šä½</div>
</div>

<div style="background: white; border: 1px solid #e2e8f0; border-radius: 6px; padding: 16px;">
  <div style="color: #2563eb; font-weight: 600; margin-bottom: 8px;">ğŸ¤– æ™ºèƒ½åŠ©æ‰‹</div>
  <div style="color: #64748b; font-size: 14px;">è§†è§‰ä»£ç†åº”ç”¨<br>å¤šæ¨¡æ€äº¤äº’ä½“éªŒ</div>
</div>

<div style="background: white; border: 1px solid #e2e8f0; border-radius: 6px; padding: 16px;">
  <div style="color: #2563eb; font-weight: 600; margin-bottom: 8px;">ğŸ” ç›®æ ‡æ£€æµ‹</div>
  <div style="color: #64748b; font-size: 14px;">ç²¾ç¡®å¯¹è±¡å®šä½<br>è¾¹ç•Œæ¡†ç”Ÿæˆ</div>
</div>

</div>

</div>

## ğŸš€ å¿«é€Ÿå¼€å§‹

<div style="background: #f0fdf4; border: 1px solid #bbf7d0; border-radius: 8px; padding: 20px; margin: 16px 0;">

### âœ… éƒ¨ç½²æ£€æŸ¥æ¸…å•

<div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 16px; margin: 16px 0;">

<div style="background: white; border: 1px solid #bbf7d0; border-radius: 6px; padding: 16px;">
  <div style="color: #059669; font-weight: 600; margin-bottom: 8px;">1ï¸âƒ£ è·å–è®¿é—®ä¿¡æ¯</div>
  <div style="color: #64748b; font-size: 14px;">ä»è®¡ç®—å·¢å®ä¾‹é¡µé¢è·å–<br>API Key å’Œè®¿é—®åœ°å€</div>
</div>

<div style="background: white; border: 1px solid #bbf7d0; border-radius: 6px; padding: 16px;">
  <div style="color: #059669; font-weight: 600; margin-bottom: 8px;">2ï¸âƒ£ å‡†å¤‡å¤šåª’ä½“å†…å®¹</div>
  <div style="color: #64748b; font-size: 14px;">å›¾ç‰‡æˆ–è§†é¢‘æ–‡ä»¶<br>æ”¯æŒ URL æˆ– base64 æ ¼å¼</div>
</div>

<div style="background: white; border: 1px solid #bbf7d0; border-radius: 6px; padding: 16px;">
  <div style="color: #059669; font-weight: 600; margin-bottom: 8px;">3ï¸âƒ£ é€‰æ‹©è°ƒç”¨æ–¹å¼</div>
  <div style="color: #64748b; font-size: 14px;">Curl å‘½ä»¤æˆ– Python SDK<br>æ ¹æ®éœ€æ±‚é€‰æ‹©åˆé€‚æ–¹å¼</div>
</div>

<div style="background: white; border: 1px solid #bbf7d0; border-radius: 6px; padding: 16px;">
  <div style="color: #059669; font-weight: 600; margin-bottom: 8px;">4ï¸âƒ£ å¼€å§‹è°ƒç”¨</div>
  <div style="color: #64748b; font-size: 14px;">æ‰§è¡Œä»£ç ï¼Œä½“éªŒ<br>å¤šæ¨¡æ€AIèƒ½åŠ›</div>
</div>

</div>

</div>

<div style="background: #eff6ff; border-left: 4px solid #2563eb; padding: 16px; margin: 16px 0; border-radius: 4px;">
  <strong>ğŸ’¡ æç¤º</strong><br>
  Qwen2.5-VL æ”¯æŒå›¾ç‰‡å’Œè§†é¢‘ä¸¤ç§è¾“å…¥æ ¼å¼ï¼Œå»ºè®®å…ˆä»ç®€å•çš„å›¾ç‰‡è¯†åˆ«å¼€å§‹æµ‹è¯•ï¼Œç¡®è®¤æœåŠ¡æ­£å¸¸åå†å°è¯•è§†é¢‘åˆ†æåŠŸèƒ½ã€‚è§†é¢‘å¤„ç†å¯èƒ½éœ€è¦æ›´é•¿çš„å“åº”æ—¶é—´ã€‚
</div>