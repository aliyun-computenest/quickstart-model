<div style="background: linear-gradient(135deg, #2563eb, #1e40af); padding: 24px; border-radius: 8px; color: white; text-align: center; margin-bottom: 24px;">
  <h1 style="font-size: 2.5em; margin: 0; font-weight: 600;">ğŸ¨ Flux.1 Krea Dev å›¾åƒç”Ÿæˆ</h1>
  <p style="font-size: 1.2em; margin: 16px 0 0 0; opacity: 0.9;">ComfyUI åŸç”Ÿå·¥ä½œæµ - ç‹¬ç‰¹ç¾å­¦é£æ ¼ä¸è‡ªç„¶ç»†èŠ‚çš„å®Œç¾ç»“åˆ</p>
  <div style="margin-top: 20px;">
    <span style="background: rgba(255,255,255,0.2); color: white; padding: 4px 12px; border-radius: 12px; font-size: 14px; margin: 0 8px;">ğŸ¯ ç‹¬ç‰¹ç¾å­¦</span>
    <span style="background: rgba(255,255,255,0.2); color: white; padding: 4px 12px; border-radius: 12px; font-size: 14px; margin: 0 8px;">âœ¨ è‡ªç„¶ç»†èŠ‚</span>
    <span style="background: rgba(255,255,255,0.2); color: white; padding: 4px 12px; border-radius: 12px; font-size: 14px; margin: 0 8px;">ğŸ† å“è¶ŠçœŸå®æ„Ÿ</span>
  </div>
</div>

## ğŸ“‹ Flux.1 Krea Dev æ¨¡å‹æ¦‚è§ˆ

<div style="background: #f8fafc; border: 1px solid #e2e8f0; border-radius: 8px; padding: 20px; margin: 16px 0;">

<div style="text-align: center; margin: 20px 0;">
  <img src="https://mintcdn.com/dripart/TwfNQ2dEaWQA7tIL/images/tutorial/flux/flux_1_krea_dev_poster.jpg?fit=max&auto=format&n=TwfNQ2dEaWQA7tIL&q=85&s=79640b1911971da78cf2bedb7b3b75ca" alt="Flux.1 Krea Dev æµ·æŠ¥" style="max-width: 600px; border-radius: 8px; box-shadow: 0 4px 8px rgba(0,0,0,0.1);">
</div>

[Flux.1 Krea Dev](https://huggingface.co/black-forest-labs/FLUX.1-Krea-dev) æ˜¯ç”± Black Forest Labs (BFL) ä¸ Krea åˆä½œå¼€å‘çš„å…ˆè¿›æ–‡æœ¬ç”Ÿæˆå›¾åƒæ¨¡å‹ã€‚è¿™æ˜¯ç›®å‰æœ€å¥½çš„å¼€æºæƒé‡ FLUX æ¨¡å‹ï¼Œä¸“ä¸ºæ–‡æœ¬åˆ°å›¾åƒç”Ÿæˆè€Œè®¾è®¡ã€‚

<div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 16px; margin: 16px 0;">

<div style="background: #eff6ff; border-left: 4px solid #2563eb; padding: 16px; border-radius: 4px; text-align: center;">
<div style="font-size: 2.5em; margin-bottom: 12px; color: #2563eb;">ğŸ¯</div>
<h4 style="margin: 0 0 8px 0; color: #1e40af;">ç‹¬ç‰¹ç¾å­¦é£æ ¼</h4>
<p style="margin: 0; color: #1e40af;">ä¸“æ³¨äºç”Ÿæˆå…·æœ‰ç‹¬ç‰¹ç¾å­¦çš„å›¾åƒï¼Œé¿å…å¸¸è§çš„"AIæ„Ÿ"å¤–è§‚</p>
</div>

<div style="background: #f0fdf4; border-left: 4px solid #059669; padding: 16px; border-radius: 4px; text-align: center;">
<div style="font-size: 2.5em; margin-bottom: 12px; color: #059669;">âœ¨</div>
<h4 style="margin: 0 0 8px 0; color: #059669;">è‡ªç„¶ç»†èŠ‚</h4>
<p style="margin: 0; color: #065f46;">ä¸ä¼šäº§ç”Ÿè¿‡æ›çš„é«˜å…‰ï¼Œä¿æŒè‡ªç„¶çš„ç»†èŠ‚è¡¨ç°</p>
</div>

<div style="background: #fff7ed; border-left: 4px solid #ea580c; padding: 16px; border-radius: 4px; text-align: center;">
<div style="font-size: 2.5em; margin-bottom: 12px; color: #ea580c;">ğŸ†</div>
<h4 style="margin: 0 0 8px 0; color: #ea580c;">å“è¶Šçš„çœŸå®æ„Ÿ</h4>
<p style="margin: 0; color: #9a3412;">æä¾›å‡ºè‰²çš„çœŸå®æ„Ÿå’Œå›¾åƒè´¨é‡</p>
</div>

<div style="background: #f5f3ff; border-left: 4px solid #7c3aed; padding: 16px; border-radius: 4px; text-align: center;">
<div style="font-size: 2.5em; margin-bottom: 12px; color: #7c3aed;">ğŸ”§</div>
<h4 style="margin: 0 0 8px 0; color: #7c3aed;">å®Œå…¨å…¼å®¹æ¶æ„</h4>
<p style="margin: 0; color: #5b21b6;">ä¸ FLUX.1 [dev] å®Œå…¨å…¼å®¹çš„æ¶æ„è®¾è®¡</p>
</div>

</div>

<div style="background: #eff6ff; border-left: 4px solid #2563eb; padding: 16px; margin: 16px 0; border-radius: 4px;">
  <strong>ğŸ“„ æ¨¡å‹è®¸å¯</strong><br>
  è¯¥æ¨¡å‹é‡‡ç”¨ <a href="https://huggingface.co/black-forest-labs/FLUX.1-Krea-dev/blob/main/LICENSE.md" target="_blank" style="color: #2563eb;">flux-1-dev-non-commercial-license</a> è®¸å¯å‘å¸ƒï¼Œä»…é™éå•†ä¸šç”¨é€”ã€‚
</div>

</div>

## ğŸš€ Flux.1 Krea Dev ComfyUI å·¥ä½œæµ

### âš ï¸ ç¯å¢ƒè¦æ±‚

<div style="background: #fef3c7; border-left: 4px solid #d97706; padding: 16px; margin: 16px 0; border-radius: 4px;">
  <strong>ğŸ“‹ ä½¿ç”¨å‰è¯·ç¡®è®¤</strong><br>
  â€¢ ç¡®ä¿ ComfyUI å·²æ›´æ–°åˆ°æœ€æ–°ç‰ˆæœ¬<br>
  â€¢ æ¨èä½¿ç”¨æœ€æ–°å¼€å‘ç‰ˆï¼ˆnightlyï¼‰è·å¾—å®Œæ•´åŠŸèƒ½<br>
  â€¢ æœ¬æŒ‡å—çš„å·¥ä½œæµå¯åœ¨ ComfyUI çš„å·¥ä½œæµæ¨¡æ¿ä¸­æ‰¾åˆ°<br>
  â€¢ å¦‚æœåŠ è½½å·¥ä½œæµæ—¶æœ‰èŠ‚ç‚¹ç¼ºå¤±ï¼Œè¯·æ£€æŸ¥ ComfyUI ç‰ˆæœ¬æˆ–èŠ‚ç‚¹å¯¼å…¥çŠ¶æ€
</div>

<div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px; margin: 16px 0;">

<div style="background: #dcfce7; border-left: 4px solid #059669; padding: 16px; border-radius: 4px;">
<h4 style="color: #059669; margin: 0 0 8px 0;">ğŸ“¥ ä¸‹è½½é“¾æ¥</h4>
<ul style="margin: 0; padding-left: 20px; color: #065f46;">
  <li><a href="https://www.comfy.org/download" target="_blank" style="color: #059669;">ComfyUI ä¸‹è½½</a></li>
  <li><a href="/zh-CN/installation/update_comfyui" target="_blank" style="color: #059669;">ComfyUI æ›´æ–°æ•™ç¨‹</a></li>
  <li><a href="/zh-CN/interface/features/template" target="_blank" style="color: #059669;">å·¥ä½œæµæ¨¡æ¿</a></li>
</ul>
</div>

<div style="background: #fef2f2; border-left: 4px solid #dc2626; padding: 16px; border-radius: 4px;">
<h4 style="color: #dc2626; margin: 0 0 8px 0;">ğŸ”§ å¸¸è§é—®é¢˜</h4>
<ul style="margin: 0; padding-left: 20px; color: #991b1b;">
  <li>èŠ‚ç‚¹ç¼ºå¤±ï¼šç‰ˆæœ¬è¿‡æ—§æˆ–å¯¼å…¥å¤±è´¥</li>
  <li>åŠŸèƒ½ä¸å…¨ï¼šä½¿ç”¨ç¨³å®šç‰ˆè€Œéå¼€å‘ç‰ˆ</li>
  <li>åŠ è½½å¤±è´¥ï¼šå¯åŠ¨æ—¶èŠ‚ç‚¹å¯¼å…¥å¼‚å¸¸</li>
</ul>
</div>

</div>

### ğŸ“¥ æ­¥éª¤ä¸€ï¼šå·¥ä½œæµæ–‡ä»¶ä¸‹è½½

<div style="background: #f8fafc; border: 1px solid #e2e8f0; border-radius: 8px; padding: 20px; margin: 16px 0;">
ä»æ¨¡ç‰ˆæ‰“å¼€ï¼š

![img.png](img.png)

æˆ–ä¸‹è½½ä»¥ä¸‹å›¾ç‰‡æˆ– JSON æ–‡ä»¶ï¼Œå¹¶æ‹–å…¥ ComfyUI ä»¥åŠ è½½å¯¹åº”å·¥ä½œæµã€‚

<div style="text-align: center; margin: 20px 0;">
  <img src="https://raw.githubusercontent.com/Comfy-Org/example_workflows/main/flux/krea/flux1_krea_dev.png" alt="Flux Krea Dev å·¥ä½œæµ" style="max-width: 100%; border-radius: 8px; box-shadow: 0 4px 8px rgba(0,0,0,0.1);">
  <p style="margin: 8px 0 0 0; color: #64748b; font-size: 14px;">ç‚¹å‡»å›¾ç‰‡ä¸‹è½½ï¼Œæ‹–å…¥ ComfyUI åŠ è½½å·¥ä½œæµ</p>
</div>

<div style="text-align: center; margin: 20px 0;">
  <a href="https://raw.githubusercontent.com/Comfy-Org/workflow_templates/refs/heads/main/templates/flux1_krea_dev.json" target="_blank" style="display: inline-block; background: linear-gradient(135deg, #2563eb, #1e40af); color: white; padding: 12px 24px; border-radius: 8px; text-decoration: none; font-weight: bold; box-shadow: 0 4px 8px rgba(37, 99, 235, 0.3);">
    ğŸ“„ ä¸‹è½½ JSON æ ¼å¼å·¥ä½œæµ
  </a>
</div>

</div>

### ğŸ”— æ­¥éª¤äºŒï¼šæ¨¡å‹æ–‡ä»¶

<div style="background: #f8fafc; border: 1px solid #e2e8f0; border-radius: 8px; padding: 20px; margin: 16px 0;">

#### ğŸ“‚ æ¨¡å‹æ–‡ä»¶ç»“æ„

<div style="background: #1e293b; border-radius: 6px; padding: 16px; margin: 16px 0;">
<pre style="margin: 0; color: #e2e8f0; font-family: 'Courier New', monospace; font-size: 14px;"><code>ComfyUI/
â”œâ”€â”€ models/
â”‚   â”œâ”€â”€ diffusion_models/
â”‚   â”‚   â””â”€â”€ flux1-krea-dev_fp8_scaled.safetensors æˆ– flux1-krea-dev.safetensors
â”‚   â”œâ”€â”€ text_encoders/
â”‚   â”‚   â”œâ”€â”€ clip_l.safetensors
â”‚   â”‚   â””â”€â”€ t5xxl_fp16.safetensors æˆ– t5xxl_fp8_e4m3fn.safetensors
â”‚   â””â”€â”€ vae/
â”‚       â””â”€â”€ ae.safetensors</code></pre>
</div>


#### ğŸ’¡ æ¨¡å‹ç‰ˆæœ¬é€‰æ‹©å»ºè®®

<div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px; margin: 16px 0;">

<div style="background: #dcfce7; border-left: 4px solid #059669; padding: 16px; border-radius: 4px;">
<h4 style="color: #059669; margin: 0 0 8px 0;">ğŸ’š FP8 é‡åŒ–ç‰ˆæœ¬</h4>
<ul style="margin: 0; padding-left: 20px; color: #065f46; font-size: 14px;">
  <li>æ˜¾å­˜éœ€æ±‚ï¼š12-16GB</li>
  <li>é€‚åˆï¼šRTX 4060 Ti 16GBã€RTX 4070 ç­‰</li>
  <li>è´¨é‡ï¼šæ¥è¿‘åŸç‰ˆï¼Œæ˜¾å­˜å‹å¥½</li>
</ul>
</div>

<div style="background: #fff7ed; border-left: 4px solid #ea580c; padding: 16px; border-radius: 4px;">
<h4 style="color: #ea580c; margin: 0 0 8px 0;">ğŸ”¥ åŸå§‹æƒé‡ç‰ˆæœ¬</h4>
<ul style="margin: 0; padding-left: 20px; color: #9a3412; font-size: 14px;">
  <li>æ˜¾å­˜éœ€æ±‚ï¼š24GB+</li>
  <li>é€‚åˆï¼šRTX 4090ã€A100 ç­‰</li>
  <li>è´¨é‡ï¼šæœ€é«˜è´¨é‡è¾“å‡º</li>
</ul>
</div>

</div>

<div style="background: #fef2f2; border-left: 4px solid #dc2626; padding: 16px; margin: 16px 0; border-radius: 4px;">
  <strong>âš ï¸ é‡è¦æé†’</strong><br>
  â€¢ <code>flux1-krea-dev.safetensors</code> æ–‡ä»¶éœ€è¦åŒæ„ <a href="https://huggingface.co/black-forest-labs/FLUX.1-Krea-dev/" target="_blank" style="color: #dc2626;">black-forest-labs/FLUX.1-Krea-dev</a> çš„åè®®åæ‰èƒ½ä¸‹è½½<br>
  â€¢ å¦‚æœä½ ä½¿ç”¨è¿‡å…¶ä»– Flux å·¥ä½œæµï¼ŒText Encoders å’Œ VAE æ–‡ä»¶å¯ä»¥å¤ç”¨ï¼Œæ— éœ€é‡å¤ä¸‹è½½
</div>

</div>

### ğŸ”§ æ­¥éª¤ä¸‰ï¼šå·¥ä½œæµé…ç½®æ“ä½œ


<div style="background: #f8fafc; border: 1px solid #e2e8f0; border-radius: 8px; padding: 20px; margin: 16px 0;">

<div style="background: #fef3c7; border-left: 4px solid #d97706; padding: 16px; margin: 16px 0; border-radius: 4px;">
  <strong>âš ï¸ ä½æ˜¾å­˜ç”¨æˆ·æé†’</strong><br>
  å¯¹äºä½æ˜¾å­˜ç”¨æˆ·ï¼Œè¿™ä¸ªæ¨¡å‹å¯èƒ½æ— æ³•åœ¨ä½ çš„è®¾å¤‡ä¸Šé¡ºåˆ©è¿è¡Œï¼Œå»ºè®®ç­‰å¾…ç¤¾åŒºæä¾›æ›´å¤šä¼˜åŒ–ç‰ˆæœ¬æˆ–ä½¿ç”¨ FP8 é‡åŒ–ç‰ˆæœ¬ã€‚
</div>

<div style="text-align: center; margin: 20px 0;">
  <img src="https://mintcdn.com/dripart/TwfNQ2dEaWQA7tIL/images/tutorial/flux/flux_1_krea_dev_guide.jpg?fit=max&auto=format&n=TwfNQ2dEaWQA7tIL&q=85&s=8475817d518de939bb6c5aabf8c1770e" alt="ComfyUI Flux Krea Devå·¥ä½œæµ" style="width: 100%; max-width: 1200px; border-radius: 8px; box-shadow: 0 4px 8px rgba(0,0,0,0.1);">
</div>

#### ğŸ“‹ è¯¦ç»†é…ç½®æ­¥éª¤

<div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 16px; margin: 16px 0;">

<div style="background: #eff6ff; border-left: 4px solid #2563eb; padding: 16px; border-radius: 4px;">
<h4 style="color: #2563eb; margin: 0 0 8px 0;">ğŸ”§ Diffusion Model åŠ è½½</h4>
<p style="margin: 0 0 8px 0; color: #1e40af; font-size: 14px;">åœ¨ <strong>Load Diffusion Model</strong> èŠ‚ç‚¹ä¸­é€‰æ‹©ï¼š</p>
<ul style="margin: 0; padding-left: 20px; color: #1e40af; font-size: 13px;">
  <li><code>flux1-krea-dev_fp8_scaled.safetensors</code>ï¼ˆæ¨èï¼‰</li>
  <li>æˆ– <code>flux1-krea-dev.safetensors</code>ï¼ˆé«˜æ˜¾å­˜ï¼‰</li>
</ul>
</div>

<div style="background: #f0fdf4; border-left: 4px solid #059669; padding: 16px; border-radius: 4px;">
<h4 style="color: #059669; margin: 0 0 8px 0;">ğŸ“ Text Encoders é…ç½®</h4>
<p style="margin: 0 0 8px 0; color: #065f46; font-size: 14px;">åœ¨ <strong>DualCLIPLoader</strong> èŠ‚ç‚¹ä¸­ç¡®ä¿ï¼š</p>
<ul style="margin: 0; padding-left: 20px; color: #065f46; font-size: 13px;">
  <li><strong>clip_name1</strong>: t5xxl_fp16.safetensors æˆ– t5xxl_fp8_e4m3fn.safetensors</li>
  <li><strong>clip_name2</strong>: clip_l.safetensors</li>
</ul>
</div>

<div style="background: #fff7ed; border-left: 4px solid #ea580c; padding: 16px; border-radius: 4px;">
<h4 style="color: #ea580c; margin: 0 0 8px 0;">ğŸ¨ VAE åŠ è½½</h4>
<p style="margin: 0; color: #9a3412; font-size: 14px;">åœ¨ <strong>Load VAE</strong> èŠ‚ç‚¹ä¸­åŠ è½½ <code>ae.safetensors</code></p>
</div>

<div style="background: #f3e8ff; border-left: 4px solid #7c3aed; padding: 16px; border-radius: 4px;">
<h4 style="color: #7c3aed; margin: 0 0 8px 0;">ğŸ“ æç¤ºè¯è®¾ç½®</h4>
<p style="margin: 0; color: #5b21b6; font-size: 14px;">åœ¨ <strong>CLIP Text Encode</strong> èŠ‚ç‚¹ä¸­è¾“å…¥ä½ çš„åˆ›æ„æç¤ºè¯</p>
</div>

</div>

#### ğŸ›ï¸ Text Encoder é€‰æ‹©æŒ‡å—

<div style="overflow-x: auto; margin: 16px 0;">
<table style="width: 100%; border-collapse: collapse; background: white; border-radius: 6px; overflow: hidden; box-shadow: 0 1px 3px rgba(0,0,0,0.1);">
  <thead style="background: #f8fafc;">
    <tr>
      <th style="padding: 12px; text-align: left; border-bottom: 1px solid #e2e8f0; color: #1e40af; font-weight: 600;">æ˜¾å­˜å®¹é‡</th>
      <th style="padding: 12px; text-align: left; border-bottom: 1px solid #e2e8f0; color: #1e40af; font-weight: 600;">æ¨è T5 ç‰ˆæœ¬</th>
      <th style="padding: 12px; text-align: left; border-bottom: 1px solid #e2e8f0; color: #1e40af; font-weight: 600;">è¯´æ˜</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="padding: 12px; border-bottom: 1px solid #f1f5f9; font-weight: 500;">< 16GB</td>
      <td style="padding: 12px; border-bottom: 1px solid #f1f5f9; font-family: monospace; font-size: 12px;">t5xxl_fp8_e4m3fn.safetensors</td>
      <td style="padding: 12px; border-bottom: 1px solid #f1f5f9;">ä½æ˜¾å­˜ä¼˜åŒ–ç‰ˆæœ¬</td>
    </tr>
    <tr>
      <td style="padding: 12px; border-bottom: 1px solid #f1f5f9; font-weight: 500;">16-24GB</td>
      <td style="padding: 12px; border-bottom: 1px solid #f1f5f9; font-family: monospace; font-size: 12px;">t5xxl_fp8_e4m3fn.safetensors</td>
      <td style="padding: 12px; border-bottom: 1px solid #f1f5f9;">å¹³è¡¡æ€§èƒ½ä¸è´¨é‡</td>
    </tr>
    <tr>
      <td style="padding: 12px; font-weight: 500;">â‰¥ 32GB</td>
      <td style="padding: 12px; font-family: monospace; font-size: 12px;">t5xxl_fp16.safetensors</td>
      <td style="padding: 12px;">æœ€ä½³è´¨é‡ä½“éªŒ</td>
    </tr>
  </tbody>
</table>
</div>

#### ğŸš€ æ‰§è¡Œç”Ÿæˆ

<div style="text-align: center; margin: 20px 0;">
  <div style="background: linear-gradient(135deg, #059669, #047857); color: white; padding: 16px 32px; border-radius: 8px; display: inline-block; box-shadow: 0 4px 8px rgba(5, 150, 105, 0.3);">
    <strong>âŒ¨ï¸ ç‚¹å‡» Queue æŒ‰é’®æˆ–ä½¿ç”¨å¿«æ·é”® Ctrl(Cmd) + Enter è¿è¡Œå·¥ä½œæµ</strong>
  </div>
</div>

</div>

## APIè°ƒç”¨
<details style="border: 2px solid #2563eb; border-radius: 12px; padding: 20px; margin: 20px 0; background: linear-gradient(145deg, #f8fafc, #eff6ff); box-shadow: 0 8px 16px rgba(37, 99, 235, 0.15);">
<summary style="font-weight: bold; font-size: 18px; color: white; cursor: pointer; padding: 16px; background: linear-gradient(135deg, #2563eb, #1e40af); border-radius: 8px; margin: -20px -20px 20px -20px; text-shadow: 1px 1px 2px rgba(0,0,0,0.2); transition: all 0.3s ease; display: flex; align-items: center; box-shadow: 0 4px 8px rgba(37, 99, 235, 0.3);">
ğŸ“‹ ç‚¹å‡»å±•å¼€ComfyUI APIè°ƒç”¨Pythonä»£ç 
</summary>

```python

import requests
import json
import uuid
import time
import random
import os

# Configuration Parameters - Flux Krea Specific
COMFYUI_SERVER = "127.0.0.1:8188"  # Local server
COMFYUI_TOKEN = ""  # Usually no token needed for local
UNET_MODEL = "flux1-krea-dev_fp8_scaled.safetensors"
VAE_MODEL = "flux-ae.safetensors"
CLIP_L_MODEL = "clip_l_bf16.safetensors"
CLIP_T5_MODEL = "t5xxl_fp16.safetensors"

# Default Parameters
DEFAULT_PROMPT = "Highly realistic portrait of a Nordic woman with blonde hair and blue eyes, very few freckles on her face, gaze sharp and intellectual. The lighting should reflect the unique coolness of Northern Europe. Outfit is minimalist and modern, background is blurred in cool tones. Needs to perfectly capture the characteristics of a Scandinavian woman. solo, Centered composition"

class ComfyUIFluxKreaClient:
def __init__(self, server=COMFYUI_SERVER, token=COMFYUI_TOKEN):
self.base_url = f"http://{server}"
self.token = token
self.client_id = str(uuid.uuid4())
self.headers = {"Content-Type": "application/json"}
if token:
self.headers["Authorization"] = f"Bearer {token}"

    def generate_flux_krea_image(self, prompt, steps=20, cfg=1, 
                                width=1024, height=1024, seed=None):
        """Generate Flux Krea text-to-image based on original JSON workflow"""
        print("Starting Flux Krea text-to-image generation...")
        
        # Generate random seed if not provided
        if seed is None:
            seed = random.randint(1, 1000000000000000)

        # Workflow based on your provided JSON
        workflow = {
            "8": {
                "inputs": {
                    "samples": ["31", 0],
                    "vae": ["39", 0]
                },
                "class_type": "VAEDecode",
                "_meta": {"title": "VAE Decode"}
            },
            "9": {
                "inputs": {
                    "filename_prefix": "flux_krea/flux_krea",
                    "images": ["8", 0]
                },
                "class_type": "SaveImage",
                "_meta": {"title": "Save Image"}
            },
            "27": {
                "inputs": {
                    "width": width,
                    "height": height,
                    "batch_size": 1
                },
                "class_type": "EmptySD3LatentImage",
                "_meta": {"title": "Empty SD3 Latent Image"}
            },
            "31": {
                "inputs": {
                    "seed": seed,
                    "steps": steps,
                    "cfg": cfg,
                    "sampler_name": "euler",
                    "scheduler": "simple",
                    "denoise": 1,
                    "model": ["38", 0],
                    "positive": ["45", 0],
                    "negative": ["42", 0],
                    "latent_image": ["27", 0]
                },
                "class_type": "KSampler",
                "_meta": {"title": "K Sampler"}
            },
            "38": {
                "inputs": {
                    "unet_name": UNET_MODEL,
                    "weight_dtype": "default"
                },
                "class_type": "UNETLoader",
                "_meta": {"title": "UNet Loader"}
            },
            "39": {
                "inputs": {
                    "vae_name": VAE_MODEL
                },
                "class_type": "VAELoader",
                "_meta": {"title": "VAE Loader"}
            },
            "40": {
                "inputs": {
                    "clip_name1": CLIP_L_MODEL,
                    "clip_name2": CLIP_T5_MODEL,
                    "type": "flux",
                    "device": "default"
                },
                "class_type": "DualCLIPLoader",
                "_meta": {"title": "Dual CLIP Loader"}
            },
            "42": {
                "inputs": {
                    "conditioning": ["45", 0]
                },
                "class_type": "ConditioningZeroOut",
                "_meta": {"title": "Conditioning Zero Out"}
            },
            "45": {
                "inputs": {
                    "text": prompt,
                    "clip": ["40", 0]
                },
                "class_type": "CLIPTextEncode",
                "_meta": {"title": "CLIP Text Encode"}
            }
        }

        print("Submitting Flux Krea text-to-image workflow...")
        print(f"Prompt: {prompt}")
        print(f"Random Seed: {seed}")
        
        response = requests.post(
            f"{self.base_url}/prompt", 
            headers=self.headers, 
            json={"prompt": workflow, "client_id": self.client_id}
        )
        
        print(f"API Response: {response.text}")

        if response.status_code != 200:
            raise Exception(f"API request failed with status code: {response.status_code}")

        result = response.json()
        if "error" in result:
            raise Exception(f"Workflow error: {result['error']}")
        if "prompt_id" not in result:
            raise Exception(f"No prompt_id in response: {result}")
        
        return result["prompt_id"], seed

    def get_status(self, task_id):
        """Get task status"""
        try:
            # Check queue status
            queue_data = requests.get(f"{self.base_url}/queue", headers=self.headers).json()
            
            # Check if in running queue
            if any(item[1] == task_id for item in queue_data.get("queue_running", [])):
                return "processing"
            
            # Check if in pending queue
            if any(item[1] == task_id for item in queue_data.get("queue_pending", [])):
                return "pending"
            
            # Check history
            history_response = requests.get(f"{self.base_url}/history/{task_id}", headers=self.headers)
            if history_response.status_code == 200:
                history = history_response.json()
                if task_id in history:
                    return "completed"
            
            return "processing"
        except Exception as e:
            print(f"Status check error: {e}")
            return "processing"

    def download_image(self, task_id, output_dir="outputs"):
        """Download generated images"""
        try:
            # Ensure output directory exists
            os.makedirs(output_dir, exist_ok=True)
            
            response = requests.get(f"{self.base_url}/history/{task_id}", headers=self.headers)
            history = response.json()
            
            if task_id in history:
                outputs = history[task_id]['outputs']
                downloaded_files = []
                
                for node_id, output in outputs.items():
                    if 'images' in output:
                        for img_info in output['images']:
                            filename = img_info['filename']
                            # Download image
                            img_response = requests.get(
                                f"{self.base_url}/view?filename={filename}", 
                                headers=self.headers
                            )
                            
                            if img_response.status_code == 200:
                                output_path = os.path.join(output_dir, filename)
                                with open(output_path, "wb") as f:
                                    f.write(img_response.content)
                                downloaded_files.append(output_path)
                                print(f"Image saved: {output_path}")
                
                return downloaded_files
                
        except Exception as e:
            print(f"Download error: {e}")
        
        return []

    def generate_batch(self, prompts_list, **kwargs):
        """Batch generate images"""
        results = []
        
        for i, prompt in enumerate(prompts_list):
            print(f"\nStarting task {i+1}/{len(prompts_list)}...")
            
            try:
                task_id, seed = self.generate_flux_krea_image(prompt, **kwargs)
                
                # Wait for completion
                while True:
                    status = self.get_status(task_id)
                    print(f"Task {i+1} status: {status}")
                    
                    if status == "completed":
                        files = self.download_image(task_id)
                        results.append({
                            'task_id': task_id,
                            'seed': seed,
                            'files': files,
                            'prompt': prompt
                        })
                        break
                    elif status == "failed":
                        print(f"Task {i+1} failed")
                        break
                    
                    time.sleep(5)
                    
            except Exception as e:
                print(f"Task {i+1} error: {e}")
        
        return results

    def generate_with_variations(self, base_prompt, variations, **kwargs):
        """Generate images with prompt variations"""
        prompts = [f"{base_prompt}, {variation}" for variation in variations]
        return self.generate_batch(prompts, **kwargs)

def main():
"""Main function - Execute Flux Krea text-to-image generation"""
client = ComfyUIFluxKreaClient()

    try:
        print("Flux Krea text-to-image client started...")
        
        # Single image generation example
        print("\n=== Single Image Generation ===")
        task_id, seed = client.generate_flux_krea_image(
            prompt=DEFAULT_PROMPT,
            steps=20,
            cfg=1,
            width=1024,
            height=1024
        )
        
        print(f"Task ID: {task_id}")
        print(f"Seed: {seed}")

        # Wait for task completion
        while True:
            status = client.get_status(task_id)
            print(f"Current status: {status}")
            
            if status == "completed":
                print("Image generation completed!")
                break
            elif status == "failed":
                print("Generation failed!")
                return
            
            time.sleep(5)

        # Download images
        downloaded_files = client.download_image(task_id)
        if downloaded_files:
            print(f"Successfully downloaded {len(downloaded_files)} files!")
            for file in downloaded_files:
                print(f"File path: {file}")
        else:
            print("Download failed")

        # Batch generation example
        print("\n=== Batch Generation Example ===")
        batch_prompts = [
            "Portrait of a young Asian woman with long black hair, wearing traditional kimono, cherry blossoms in background, soft lighting",
            "Professional headshot of a businessman in a navy suit, confident expression, office background, studio lighting",
            "Artistic portrait of an elderly man with a white beard, weathered face, dramatic side lighting, black and white"
        ]
        
        # Uncomment to run batch generation
        # batch_results = client.generate_batch(batch_prompts, steps=20, cfg=1)
        # print(f"Batch generation completed, generated {len(batch_results)} images")

        # Variation generation example
        print("\n=== Variation Generation Example ===")
        base_prompt = "Portrait of a woman"
        variations = [
            "smiling, warm lighting",
            "serious expression, dramatic lighting", 
            "laughing, natural outdoor lighting",
            "contemplative, soft studio lighting"
        ]
        
        # Uncomment to run variation generation
        # variation_results = client.generate_with_variations(base_prompt, variations, steps=15)
        # print(f"Variation generation completed, generated {len(variation_results)} images")

    except Exception as e:
        print(f"Error: {e}")

if __name__ == "__main__":
main()

```

</details>


## ğŸ¯ Flux.1 Krea Dev ç‰¹è‰²ä¼˜åŠ¿

<div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 16px; margin: 16px 0;">

<div style="background: #eff6ff; border-left: 4px solid #2563eb; padding: 16px; border-radius: 4px; text-align: center;">
<div style="font-size: 2.5em; margin-bottom: 12px; color: #2563eb;">ğŸ¨</div>
<h4 style="margin: 0 0 8px 0; color: #1e40af;">è‰ºæœ¯ç¾å­¦</h4>
<p style="margin: 0; color: #1e40af;">ç‹¬ç‰¹çš„ç¾å­¦é£æ ¼ï¼Œé¿å…å¸¸è§çš„ AI ç”Ÿæˆç—•è¿¹</p>
</div>

<div style="background: #f0fdf4; border-left: 4px solid #059669; padding: 16px; border-radius: 4px; text-align: center;">
<div style="font-size: 2.5em; margin-bottom: 12px; color: #059669;">ğŸ“¸</div>
<h4 style="margin: 0 0 8px 0; color: #059669;">æ‘„å½±çº§è´¨æ„Ÿ</h4>
<p style="margin: 0; color: #065f46;">è‡ªç„¶çš„å…‰å½±å¤„ç†ï¼Œä¸ä¼šäº§ç”Ÿè¿‡æ›çš„é«˜å…‰æ•ˆæœ</p>
</div>

<div style="background: #fff7ed; border-left: 4px solid #ea580c; padding: 16px; border-radius: 4px; text-align: center;">
<div style="font-size: 2.5em; margin-bottom: 12px; color: #ea580c;">ğŸ†</div>
<h4 style="margin: 0 0 8px 0; color: #ea580c;">å¼€æºæœ€ä½³</h4>
<p style="margin: 0; color: #9a3412;">ç›®å‰æœ€å¥½çš„å¼€æº FLUX æ¨¡å‹æƒé‡</p>
</div>

<div style="background: #f5f3ff; border-left: 4px solid #7c3aed; padding: 16px; border-radius: 4px; text-align: center;">
<div style="font-size: 2.5em; margin-bottom: 12px; color: #7c3aed;">ğŸ”„</div>
<h4 style="margin: 0 0 8px 0; color: #7c3aed;">å®Œå…¨å…¼å®¹</h4>
<p style="margin: 0; color: #5b21b6;">ä¸ç°æœ‰ FLUX.1 [dev] å·¥ä½œæµå®Œå…¨å…¼å®¹</p>
</div>

</div>

## ğŸ’¡ ä½¿ç”¨æŠ€å·§ä¸å»ºè®®

<div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px; margin: 16px 0;">

<div style="background: #dcfce7; border-left: 4px solid #059669; padding: 16px; border-radius: 4px;">
<h4 style="color: #059669; margin: 0 0 8px 0;">âœ… æœ€ä½³å®è·µ</h4>
<ul style="margin: 0; padding-left: 20px; color: #065f46;">
  <li>ä½¿ç”¨è¯¦ç»†ã€å…·ä½“çš„æç¤ºè¯æè¿°</li>
  <li>å……åˆ†åˆ©ç”¨æ¨¡å‹çš„ç¾å­¦é£æ ¼ç‰¹ç‚¹</li>
  <li>æ ¹æ®æ˜¾å­˜æƒ…å†µé€‰æ‹©åˆé€‚çš„æ¨¡å‹ç‰ˆæœ¬</li>
  <li>å°è¯•ä¸åŒçš„é‡‡æ ·å™¨å’Œæ­¥æ•°ç»„åˆ</li>
</ul>
</div>

<div style="background: #fef2f2; border-left: 4px solid #dc2626; padding: 16px; border-radius: 4px;">
<h4 style="color: #dc2626; margin: 0 0 8px 0;">âš ï¸ æ³¨æ„äº‹é¡¹</h4>
<ul style="margin: 0; padding-left: 20px; color: #991b1b;">
  <li>ç¡®ä¿æœ‰è¶³å¤Ÿçš„æ˜¾å­˜è¿è¡Œæ¨¡å‹</li>
  <li>åŸå§‹æƒé‡ç‰ˆæœ¬éœ€è¦æ›´å¤šè®¡ç®—èµ„æº</li>
  <li>æ³¨æ„æ¨¡å‹çš„éå•†ä¸šè®¸å¯é™åˆ¶</li>
  <li>é¦–æ¬¡è¿è¡Œå¯èƒ½éœ€è¦è¾ƒé•¿åŠ è½½æ—¶é—´</li>
</ul>
</div>

</div>

## ğŸ”§ æŠ€æœ¯è§„æ ¼

<div style="background: #f8fafc; border: 1px solid #e2e8f0; border-radius: 8px; padding: 20px; margin: 16px 0;">

### ğŸ’» ç³»ç»Ÿè¦æ±‚

<div style="overflow-x: auto; margin: 16px 0;">
<table style="width: 100%; border-collapse: collapse; background: white; border-radius: 6px; overflow: hidden; box-shadow: 0 1px 3px rgba(0,0,0,0.1);">
  <thead style="background: #f8fafc;">
    <tr>
      <th style="padding: 12px; text-align: left; border-bottom: 1px solid #e2e8f0; color: #1e40af; font-weight: 600;">é…ç½®é¡¹</th>
      <th style="padding: 12px; text-align: left; border-bottom: 1px solid #e2e8f0; color: #1e40af; font-weight: 600;">FP8 ç‰ˆæœ¬</th>
      <th style="padding: 12px; text-align: left; border-bottom: 1px solid #e2e8f0; color: #1e40af; font-weight: 600;">åŸå§‹æƒé‡ç‰ˆæœ¬</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="padding: 12px; border-bottom: 1px solid #f1f5f9; font-weight: 500;">GPU æ˜¾å­˜</td>
      <td style="padding: 12px; border-bottom: 1px solid #f1f5f9;">12-16GB</td>
      <td style="padding: 12px; border-bottom: 1px solid #f1f5f9;">24GB+</td>
    </tr>
    <tr>
      <td style="padding: 12px; border-bottom: 1px solid #f1f5f9; font-weight: 500;">ç³»ç»Ÿå†…å­˜</td>
      <td style="padding: 12px; border-bottom: 1px solid #f1f5f9;">16GB+</td>
      <td style="padding: 12px; border-bottom: 1px solid #f1f5f9;">32GB+</td>
    </tr>
    <tr>
      <td style="padding: 12px; border-bottom: 1px solid #f1f5f9; font-weight: 500;">å­˜å‚¨ç©ºé—´</td>
      <td style="padding: 12px; border-bottom: 1px solid #f1f5f9;">15GB</td>
      <td style="padding: 12px; border-bottom: 1px solid #f1f5f9;">25GB</td>
    </tr>
    <tr>
      <td style="padding: 12px; font-weight: 500;">æ¨è GPU</td>
      <td style="padding: 12px;">RTX 4060 Ti 16GB / RTX 4070</td>
      <td style="padding: 12px;">RTX 4090 / A100</td>
    </tr>
  </tbody>
</table>
</div>

### ğŸ¨ ç”Ÿæˆèƒ½åŠ›

<div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 12px; margin: 16px 0;">
  <div style="background: #eff6ff; padding: 12px; border-radius: 6px; text-align: center;">
    <span style="background: #2563eb; color: white; padding: 4px 12px; border-radius: 12px; font-size: 12px;">äººç‰©è‚–åƒ</span>
  </div>
  <div style="background: #f0fdf4; padding: 12px; border-radius: 6px; text-align: center;">
    <span style="background: #059669; color: white; padding: 4px 12px; border-radius: 12px; font-size: 12px;">é£æ™¯æ‘„å½±</span>
  </div>
  <div style="background: #fff7ed; padding: 12px; border-radius: 6px; text-align: center;">
    <span style="background: #ea580c; color: white; padding: 4px 12px; border-radius: 12px; font-size: 12px;">è‰ºæœ¯åˆ›ä½œ</span>
  </div>
  <div style="background: #f3e8ff; padding: 12px; border-radius: 6px; text-align: center;">
    <span style="background: #7c3aed; color: white; padding: 4px 12px; border-radius: 12px; font-size: 12px;">äº§å“è®¾è®¡</span>
  </div>
  <div style="background: #fef3c7; padding: 12px; border-radius: 6px; text-align: center;">
    <span style="background: #d97706; color: white; padding: 4px 12px; border-radius: 12px; font-size: 12px;">å»ºç­‘æ¸²æŸ“</span>
  </div>
  <div style="background: #fef2f2; padding: 12px; border-radius: 6px; text-align: center;">
    <span style="background: #dc2626; color: white; padding: 4px 12px; border-radius: 12px; font-size: 12px;">æ¦‚å¿µè‰ºæœ¯</span>
  </div>
</div>

</div>

## ğŸ¯ åº”ç”¨åœºæ™¯

<div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 16px; margin: 16px 0;">

<div style="background: #eff6ff; border-left: 4px solid #2563eb; padding: 16px; border-radius: 4px; text-align: center;">
<div style="font-size: 2.5em; margin-bottom: 12px; color: #2563eb;">ğŸ¨</div>
<h4 style="margin: 0 0 8px 0; color: #1e40af;">è‰ºæœ¯åˆ›ä½œ</h4>
<p style="margin: 0; color: #1e40af;">æ¦‚å¿µè‰ºæœ¯ã€æ’ç”»è®¾è®¡ã€è§†è§‰è‰ºæœ¯åˆ›ä½œ</p>
</div>

<div style="background: #f0fdf4; border-left: 4px solid #059669; padding: 16px; border-radius: 4px; text-align: center;">
<div style="font-size: 2.5em; margin-bottom: 12px; color: #059669;">ğŸ“±</div>
<h4 style="margin: 0 0 8px 0; color: #059669;">å†…å®¹åˆ›ä½œ</h4>
<p style="margin: 0; color: #065f46;">ç¤¾äº¤åª’ä½“å†…å®¹ã€åšå®¢é…å›¾ã€è¥é”€ç´ æ</p>
</div>

<div style="background: #fff7ed; border-left: 4px solid #ea580c; padding: 16px; border-radius: 4px; text-align: center;">
<div style="font-size: 2.5em; margin-bottom: 12px; color: #ea580c;">ğŸ¬</div>
<h4 style="margin: 0 0 8px 0; color: #ea580c;">å½±è§†åˆ¶ä½œ</h4>
<p style="margin: 0; color: #9a3412;">åˆ†é•œå¤´è®¾è®¡ã€æ¦‚å¿µé¢„è§ˆã€è§†è§‰å¼€å‘</p>
</div>

<div style="background: #f5f3ff; border-left: 4px solid #7c3aed; padding: 16px; border-radius: 4px; text-align: center;">
<div style="font-size: 2.5em; margin-bottom: 12px; color: #7c3aed;">ğŸ”¬</div>
<h4 style="margin: 0 0 8px 0; color: #7c3aed;">ç ”ç©¶å®éªŒ</h4>
<p style="margin: 0; color: #5b21b6;">AI ç ”ç©¶ã€æ¨¡å‹å¯¹æ¯”ã€å­¦æœ¯ç ”ç©¶</p>
</div>

</div>

---

<div style="text-align: center; padding: 16px; background: #f8fafc; border-radius: 6px; margin-top: 24px;">
  <p style="margin: 0; color: #64748b; font-size: 14px;">
    ğŸ¨ <strong>Flux.1 Krea Dev å›¾åƒç”Ÿæˆ</strong> | ç‹¬ç‰¹ç¾å­¦é£æ ¼ä¸è‡ªç„¶ç»†èŠ‚çš„å®Œç¾ç»“åˆ
  </p>
  <p style="margin: 4px 0 0 0; color: #94a3b8; font-size: 12px;">
    Â© 2025 Black Forest Labs & Krea | éå•†ä¸šè®¸å¯ | è®© AI å›¾åƒç”Ÿæˆæ›´å…·è‰ºæœ¯ç¾æ„Ÿ
  </p>
</div>