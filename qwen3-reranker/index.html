<!DOCTYPE html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="计算巢是阿里云开放给企业应用服务商的服务管理平台。服务商能够在计算巢上发布私有化部署服务，为其客户提供云上软件一键部署的能力；同时也支持全托管模式的服务，赋能服务商托管其客户资源。">
  <title>Index - Aliyun 计算巢 x Demo</title>

  <link rel="shortcut icon" href="../img/favicon.ico">

  <link rel="stylesheet" href="https://unpkg.com/purecss@1.0.0/build/pure-min.css">
  <link rel="stylesheet" href="../css/theme.css">
  

  

  
  

  
    <script src="../search/main.js"></script>
  

  

  <script src="../js/highlight.min.js"></script>
  <script>hljs.highlightAll();</script>
</head>

<body>
  <div class="container">
    <div class="nav">
      <div class="nav-inner">
        <div class="logo">
          <img src="./img/logo-2x.png">
        </div>
        <div class="nav-list">
          <ul>
          
              <li><a href="#_1">简介</a></li>
              
          
              <li><a href="#_2">使用说明</a></li>
              
                  <li><a href="#api">API调用</a></li>
                  
                      <li class="li-h3"><a href="#python">Python调用</a></li>
                  
              
          
          </ul>
        </div>
      </div>
    </div>
    <div class="content theme-github">
      
      <div class="content-inner">        
        
        <h2 id="_1">简介</h2>
<p>Qwen3 嵌入模型系列是 Qwen 家族的最新专有模型，专门设计用于文本嵌入和排名任务。基于 Qwen3 系列的密集基础模型，它提供了各种大小（0.6B、4B 和 8B）的全面文本嵌入和重新排名模型。该系列继承了其基础模型出色的多语言能力、长文本理解和推理技能。Qwen3 嵌入系列在多个文本嵌入和排名任务中代表了显著的进步，包括文本检索、代码检索、文本分类、文本聚类和双语文本挖掘。</p>
<h2 id="_2">使用说明</h2>
<p>在完成模型部署后，可以在计算巢服务实例概览页面看到模型的使用方式，里面提供了内网访问地址、公网访问地址和ApiKey，下面会分别介绍如何访问使用。</p>
<p><img alt="img.png" src="img.png" /></p>
<h3 id="api">API调用</h3>
<h4 id="python">Python调用</h4>
<p>以下为 Python 示例代码： 其中${ApiKey}需要填写页面上的ApiKey；${ServerUrl}需要填写页面上的公网地址或内网地址，不需要带上/v1。</p>
<pre><code class="language-python">import json

import requests

url = &quot;${ServerUrl}/v1/rerank&quot;
token = &quot;${ApiKey}&quot;
headers = {&quot;Authorization&quot;: token}

prefix = '&lt;|im_start|&gt;system\nJudge whether the Document meets the requirements based on the Query and the Instruct provided. Note that the answer can only be &quot;yes&quot; or &quot;no&quot;.&lt;|im_end|&gt;\n&lt;|im_start|&gt;user\n'
suffix = &quot;&lt;|im_end|&gt;\n&lt;|im_start|&gt;assistant\n&lt;think&gt;\n\n&lt;/think&gt;\n\n&quot;

query_template = &quot;{prefix}&lt;Instruct&gt;: {instruction}\n&lt;Query&gt;: {query}\n&quot;
document_template = &quot;&lt;Document&gt;: {doc}{suffix}&quot;
instruction = &quot;Given a web search query, retrieve relevant passages that answer the query&quot;

data = {
    &quot;model&quot;: &quot;Qwen3-Reranker-8B&quot;,
    &quot;query&quot;: query_template.format(prefix=prefix, instruction=instruction, query=&quot;中国首都是哪儿?&quot;),
    &quot;documents&quot;: [
        document_template.format(doc=&quot;中国首都是北京。&quot;, suffix=suffix),
        document_template.format(doc=&quot;美国首都是华盛顿。&quot;, suffix=suffix),
        document_template.format(doc=&quot;今天是星期五。&quot;, suffix=suffix)
    ],
}


def main():
    response = requests.post(url, headers=headers, json=data)

    # Check the response
    if response.status_code == 200:
        print(&quot;Request successful!&quot;)
        print(json.dumps(response.json(), indent=2))
    else:
        print(f&quot;Request failed with status code: {response.status_code}&quot;)
        print(response.text)


if __name__ == &quot;__main__&quot;:
    main()
</code></pre>
        
      </div>

      <div class="copyrights">© 2009-2022 Aliyun.com 版权所有</div>
    </div>
  </div>
  
  <!--
  MkDocs version      : 1.6.1
  Docs Build Date UTC : 2025-11-25 12:05:08.558379+00:00
  -->
</body>
</html>